<div class="content">
    <h1>Producten</h1>

    <div class="order-list mat-elevation-z8" *ngIf="hasData()">

        <mat-table #table [dataSource]="dataSource">

            <ng-container id="barcode" matColumnDef="barcode">
                <mat-header-cell *matHeaderCellDef>Barcode</mat-header-cell>
                <mat-cell *matCellDef="let element">
                    <input [value]="element.barcode" (blur)="editProduct(element)"
                           name="barcode" [(ngModel)]="element.barcode" />
                </mat-cell>
            </ng-container>

            <ng-container matColumnDef="artist">
                <mat-header-cell *matHeaderCellDef>Artiest</mat-header-cell>
                <mat-cell *matCellDef="let element">
                    <input [value]="element.artist" (blur)="editProduct(element)"
                           name="artist" [(ngModel)]="element.artist"/>
                </mat-cell>
            </ng-container>

            <ng-container matColumnDef="title">
                <mat-header-cell *matHeaderCellDef>Titel</mat-header-cell>
                <mat-cell *matCellDef="let element">
                    <input [value]="element.title" (blur)="editProduct(element)"
                           name="title" [(ngModel)]="element.title"/>
                </mat-cell>
            </ng-container>

            <ng-container id="year" matColumnDef="year">
                <mat-header-cell *matHeaderCellDef>Jaar</mat-header-cell>
                <mat-cell *matCellDef="let element">
                    <input [value]="element.year" (blur)="editProduct(element)"
                        name="year" [(ngModel)]="element.year"/>
                </mat-cell>
            </ng-container>

            <ng-container id="price" matColumnDef="price">
                <mat-header-cell *matHeaderCellDef>Prijs</mat-header-cell>
                <mat-cell *matCellDef="let element">
                    <input [value]="element.price" (blur)="editProduct(element)"
                           name="price" [(ngModel)]="element.price"/>
                </mat-cell>
            </ng-container>

            <ng-container id="delete" matColumnDef="delete">
                <mat-header-cell *matHeaderCellDef></mat-header-cell>
                <mat-cell *matCellDef="let element">
                    <button class="delete-button" (click)="deleteProduct(element)">
                        <i class="material-icons">close</i>
                    </button>
                </mat-cell>
            </ng-container>

            <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
            <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>

        </mat-table>

    </div>

    <button id="open-add-product" class="big-button" (click)="openAddProduct()">
        Voeg nieuw product toe
    </button>

    <div *ngIf="actionAddProduct" id="add-product-wrap" class="mat-elevation-z8 module">

        <h2>Voeg nieuw product toe</h2>

        <button class="close-button" (click)="closeAddProduct()">
            <i class="material-icons">close</i>
        </button>

        <form name="add-product-form" id="add-product-form"
              #productForm="ngForm" (ngSubmit)="addProduct()" class="product-form">

            <div class="form-group">
                <label for="addBarcode">Barcode</label>
                <input matInput autofocus id="addBarcode" name="addBarcode"
                       required [(ngModel)]="product.barcode" #addBarcode="ngModel" />
            </div>
            <div class="form-group">
                <label for="addArtist">Artiest</label>
                <input name="addArtist" id="addArtist"
                       required [(ngModel)]="product.artist" #addArtist="ngModel" />
            </div>
            <div class="form-group">
                <label for="addTitle">Titel</label>
                <input name="addTitle" id="addTitle"
                       required [(ngModel)]="product.title" #addTitle="ngModel" />
            </div>
            <div class="form-group birthdate-group">
                <label for="addYear">Jaar</label>
                <input id="addYear" name="addYear"
                       required [(ngModel)]="product.year" #addYear="ngModel" />
            </div>
            <div class="form-group">
                <label for="addPrice">Prijs</label>
                <input id="addPrice" name="addPrice"
                       required [(ngModel)]="product.price" #addPrice="ngModel" />
            </div>

            <div class="form-group">
                <button type="submit" mat-raised-button class="button big-button">
                    Sla product op
                </button>
             </div>

        </form>
    </div>

</div>
